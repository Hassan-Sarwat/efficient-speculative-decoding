# Use the official vLLM image (Guaranteed stability)
FROM vllm/vllm-openai:v0.6.4.post1

WORKDIR /app

# Install benchmarking dependencies
COPY requirements-serve.txt .
RUN pip install --no-cache-dir -r requirements-serve.txt

# Copy benchmark script
COPY benchmark.py /app/

# We expect the models to be mounted at /app/models
CMD ["python", "benchmark.py"]